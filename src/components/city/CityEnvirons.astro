---
// Define the structure of a section object, adjust if needed
interface Section {
  name: string;
  slug: string;
  codePostal?: string; 
}

interface Props {
  cityName: string; // The name of the main city this page is about
  sections: Section[]; // The list of nearby sections/boroughs passed from getStaticPaths
}

const { cityName, sections } = Astro.props;
---
{sections && sections.length > 0 && (
  <section class="bg-white py-12 md:py-16">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-8 text-center">
        Nos Services de Plomberie dans les Environs de {cityName}
      </h2>
      <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto">
        Notre équipe de plombiers intervient non seulement à {cityName} mais également dans les communes et localités avoisinantes:
      </p>
      
      <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
        {sections.map((section) => (
          <a 
            href={`/plombier-${section.slug}`}  // Link to the specific page for this section
            class="block bg-gray-100 text-center p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 text-blue-700 hover:text-blue-800 font-medium"
            title={`Plombier à ${section.name}`}
          >
            {section.name}
          </a>
        ))}
      </div>

      <p class="text-center text-gray-600 mt-10 max-w-3xl mx-auto">
        Même si vous habitez dans une commune limitrophe de {cityName}, vous pouvez compter sur notre service de plomberie professionnel pour une intervention rapide et efficace.
      </p>
    </div>
  </section>
)}